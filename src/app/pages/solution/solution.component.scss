@use '@angular/material' as mat;
@import '../../../styles.scss';
@include mat.core();

.math-problem-display {
    margin-top: 2rem;
    font-weight: 600;
    font-size: 1.5rem;
}

.streak-badge {
    /* Animated gradient text */
    background-size: 300% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    transition: transform .2s ease, filter .2s ease, text-shadow .2s ease;
}

/* Levels: higher streak = faster gradient + stronger glow */
.streak--warm {
    animation: gradientShift 10s linear infinite;
    color: transparent;
    font-weight: 700;
    background-image: linear-gradient(90deg, #34d399, #22d3ee, #a78bfa, #f472b6, #fb7185);
}

.streak--hot {
    animation: gradientShift 6s linear infinite, pulseGlow 2s ease-in-out infinite;
    color: transparent;
    font-weight: 700;
    background-image: linear-gradient(90deg, #34d399, #22d3ee, #a78bfa, #f472b6, #fb7185);
    text-shadow: 0 0 6px rgba(244, 114, 182, .45), 0 0 12px rgba(56, 189, 248, .35);
}

.streak--onfire {
    animation: gradientShift 4s linear infinite, pulseGlow 1.6s ease-in-out infinite;
    color: transparent;
    font-weight: 700;
    background-image: linear-gradient(90deg, #34d399, #22d3ee, #a78bfa, #f472b6, #fb7185);
    text-shadow: 0 0 8px rgba(244, 114, 182, .55), 0 0 16px rgba(167, 139, 250, .45);
    transform: scale(1.04);
}

.streak--legend {
    animation: gradientShift 3s linear infinite, pulseGlow 1.2s ease-in-out infinite;
    color: transparent;
    font-weight: 700;
    background-image: linear-gradient(90deg, #34d399, #22d3ee, #a78bfa, #f472b6, #fb7185);
    text-shadow: 0 0 10px rgba(251, 113, 133, .65), 0 0 20px rgba(34, 211, 238, .55), 0 0 26px rgba(167, 139, 250, .5);
    transform: scale(1.06);
}

@keyframes gradientShift {
    0%   { background-position: 0% 50%; }
    50%  { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

@keyframes pulseGlow {
    0%, 100% { filter: brightness(1); }
    50%      { filter: brightness(1.25); }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
    .streak-badge,
    .streak--warm,
    .streak--hot,
    .streak--onfire,
    .streak--legend {
        animation: none !important;
        text-shadow: none !important;
        transform: none !important;
    }
}

.alert-text {
    color: mat.m2-get-color-from-palette($coral-palette, 900);
    font-weight: 600;
    animation: pulseGlow 2s ease-in-out infinite;
}
